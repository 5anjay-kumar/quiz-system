<h1>Student</h1>
<div class="row mb-2">
  <div class="col-sm-6 align-self-end">
    <a [routerLink]="['/admin/batch']" routerLinkActive="router-link-active"> Go back to batch </a>
  </div>
  <div class="col-sm-6 text-right">
    <button type="button" class="btn btn-info btn-lg" (click)="openRegisterStudentPopup()">Register Student</button>
  </div>
</div>

<ngb-accordion #acc="ngbAccordion" activeIds="ngb-panel-0">
  <ngb-panel activeIds="ngb-panel-0">
    <ng-template ngbPanelHeader let-opened="opened">
      <div class="d-flex align-items-center justify-content-between">
        <h5 class="m-0">Student Details</h5>
        <button ngbPanelToggle class="btn btn-outline-dark">{{ opened ? 'Close' : 'Open' }}</button>
      </div>

      <ng-template ngbPanelContent>
        <table class="table table-hover mt-3">
          <thead>
            <tr>
              <th scope="col">#</th>
              <th scope="col">Name</th>
              <th scope="col">Email</th>
              <th scope="col">Batch</th>
              <th scope="col">Action</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let student of students; index as i">
              <th scope="row">{{ i + 1 }}</th>
              <td>
                {{student.firstName }} {{student.lastName}}
              </td>
              <td>{{ student.email }}</td>
              <td>{{ student.batch?.department }}-{{ student.batch?.batch_year }}-{{ student.batch?.section }}</td>
              <td>
                <i class="fas fa-edit btn btn-info rounded-circle" placement="left" (click)="editStudentPopup(student)"
                  ngbTooltip="Edit"></i>
                <i class="fas fa-trash-alt btn btn-danger rounded-circle ml-2" placement="left"
                  (click)="removeStudent(student, i)" ngbTooltip="Delete"></i>
              </td>
            </tr>
          </tbody>
        </table>
      </ng-template>
    </ng-template>
  </ngb-panel>
</ngb-accordion>
